<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>楞伽山人</title>
    <link rel="shortcut icon" type="image/png" href="/images/heng.png">
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="/stylesheets/lengerfulluse.css" type="text/css" />
    <link rel="stylesheet" href="/stylesheets/font_awesome.css" type="text/css" />
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
    <div class="site-nav">
        <div class="nav-logo">
        <img src="/assets/img/blog/nav-logo.png" >
        </div>
        <div class="nav-content">
            <a href="/index.html"><span class="nav-content-item">Home</span></a>
            <a href="/project.html"><span class="nav-content-item">Projects</span></a>
            <a href="/me.html"><span class="nav-content-item">About</span></a>
        </div>
        <div class="nav-discovery">
            <div class="nav-search">
                <span class="search-input"><input type="text" id="search" placeholder="Article..." /></span>
                <span class="icon"><i class="fa fa-search"></i></span>
            </div>
        </div>
    </div>
    <div class="main-left">
    </div>
    <div class="main-center">
        






<div class="post-meta"><i class="fa fa-calendar-o"></i><span class="awesome_font_margin"></span>28 Mar 2013<span id="post-nav"> <i class="fa fa-folder-open-o fa-lg"></i> <span><a href="/blog/category/work/" style="color: #3498db;text-decoration: none;">Work</a></span><span id="post-tags">  <i class="fa fa-tags"></i> <a href="/blog/tag/linux/" style="color:#33CCCC;text-decoration: none;">linux</a></span></span></div>

<div id="post">
    <h1> And  Setting</h1>
    <p>The purpose of this note is to analyze the steps for setting chinese
input method <a href="http://www.fcitx-im.org"><strong>Fcitx</strong></a> in an English system
environment.</p>

<h4>English Environment for Fcitx</h4>

<p>If you just Google the articles about installing the fcitx, almost most
of them we noted that, you must setting the LC_CTYPE to zh_CN.UTF-8
locale as the prerequisite. Unfortunately, it is wrong, or partly wrong.
Allthough fcitx cannot run on POSIX and C locale, But, it can run on the
en_US.UTF-8 locale settings. And it can provide you the same english
enrionment.</p>

<h4>Fcitx Environment Varibles</h4>

<p>There are mainly three important environment variables, they are:
- XMODIFIERS it connects only to the im module. and common setting as
this <code>XMODIFIERS="@im=fcitx"</code>
- GTK_IM_MODULE setting the im select for gtk programs. notice that
only your fcitx compile USE flag contains gtk, gtk3, you should set it:
<code>GTK_IM_MODULE=fcitx</code>, otherwise for common gtk2 programs,
<code>GTK_IM_MODULE=xim</code>.
- QT_IM_MODULE setting the im select for qt programms. the same from
the above, you should set <code>QT_IM_MODULE=fcitx</code> only you USE the qt4
flag. and common situation is <code>QT_IM_MODULE=xim</code>.</p>

<p>Yes, All about this, for startx command, you should putting the above
environment variables in .xinitrc. if you use Slim, you could put it in
the xsessions files.  Provided that You locale is not POSIX or C, it
will works.</p>

<h4>Install fonts on Sabayon(Gentoo) manual</h4>

<p>First you should copy the fonts into a system fonts directory or
user self-definition directory.  And if you use the self-definition
directory, you should add the FontPaths directory in the xorg.conf
directory.
Second, you need to enter the font directory, and construct the
fonts.scale and fonts.dir files for indexing of fonts. with the
following commands.
<code>mkfontscale</code>
<code>mkfontdir</code>
Finally, we need to reconstruct the fonts cached with command
<code>fc-cached -fv</code>
After you reboot the X system, you could use the command <code>fc-list | grep
-i font-name</code></p>

<p>And that's all.</p>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>07 Jun 2015</span> &raquo; <a href="/post/gitignore%E6%96%87%E4%BB%B6%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8">.gitignore文件不起作用</a></li>
    
      <li><span>07 Jun 2015</span> &raquo; <a href="/post/css%E5%B8%B8%E7%94%A8tips%E6%B1%87%E6%80%BB">css常用tips汇总</a></li>
    
      <li><span>30 May 2015</span> &raquo; <a href="/post/singleton-design-pattern">Singleton Design Pattern</a></li>
    
  </ul>
</div>



        <div class="footer">
            <div class="copyright">
                Personal technical blog for software development practices, reading notes on ML, NLP.
                <br/> &copy; 2013&mdash;2015 by HengWei. All Rights Reserved.
            </div>
        </div>
    </div>
    <div class="main-right">
        <ul id="results-container"></ul>
    </div>
    <!-- Script pointing to jekyll-search.js -->
    <script src="/dest/jekyll-search.js" type="text/javascript"></script>
    <script type="text/javascript">
      SimpleJekyllSearch({
        searchInput: document.getElementById('search'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json',
        searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
        noResultsText: 'No results found',
        limit: 10,
        fuzzy: false,
      })
    </script>
</body>

</html>
