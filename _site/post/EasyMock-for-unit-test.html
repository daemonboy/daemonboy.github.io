<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>楞伽山人</title>
    <link rel="shortcut icon" type="image/png" href="/images/heng.png">
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="/stylesheets/lengerfulluse.css" type="text/css" />
    <link rel="stylesheet" href="/stylesheets/font_awesome.css" type="text/css" />
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
    <div class="site-nav">
        <div class="nav-logo">
        <img src="/assets/img/blog/nav-logo.png" >
        </div>
        <div class="nav-content">
            <a href="/index.html"><span class="nav-content-item">Home</span></a>
            <a href="/project.html"><span class="nav-content-item">Projects</span></a>
            <a href="/me.html"><span class="nav-content-item">About</span></a>
        </div>
        <div class="nav-discovery">
            <div class="nav-search">
                <span class="search-input"><input type="text" id="search" placeholder="Article..." /></span>
                <span class="icon"><i class="fa fa-search"></i></span>
            </div>
        </div>
    </div>
    <div class="main-left">
    </div>
    <div class="main-center">
        






<div class="post-meta"><i class="fa fa-calendar-o"></i><span class="awesome_font_margin"></span>03 Jul 2014<span id="post-nav"> <i class="fa fa-folder-open-o fa-lg"></i> <span><a href="/blog/category/programming/" style="color: #1abc9c;text-decoration: none;">Programming</a></span><span id="post-tags">  <i class="fa fa-tags"></i> <a href="/blog/tag/language/" style="color:#33CCCC;text-decoration: none;">Language</a></span></span></div>

<div id="post">
    <h1>EasyMock for Unit Test</h1>
    <p>I noticed lot of projects code with <strong>unit test</strong> as a necessary part. Unfortunately that, I didn't have the opportunity to do it myself. Upon coming out from the campus, it naturally become a necessary part of the carel talent of a SDE.
Common and basic test procedure framework will be <a href="http://junit.org">Junit</a>, which lay the fundation of test. Such as <code>@Before,@Test,@After</code> workflow, <code>Assertions, Test Runners, Ignoring, Rule</code>. However, when encounter complex and sophisticated system, the dependency of functions may become perplexing. It's impossible to construct all this objects as the input of a to-be tested function. <strong>Mock</strong> conception arise naturally. Well in plain word, could we just mock these dependency objects, give their input parameters and expected behavior or return value. And it just exactly benefit what our test case needed. There are lots of good mock framework, such as <a href="http://jmock.org" title="JMock Official">JMock</a>, <a href="http://easymock.org" title="EasyMock official">EasyMock</a>. All roads to Roma. I spent about three days to learn the JMock for a particular unit test code. When I come from JMock to EasyMock, I found that most prior knowledge and experience can be come in handy. I take notes here as a reminder.
 1. From scratch, I just know a little about junit. If I want to write tests for a class, the meta element for test is functions. So I need to construct the context for a function test, such as the corresponding main class, the input parameters for a test, external dependency objects need to construct. also the purpose of test, do we need to <code>Assertions</code>? and so on.
 2. with these in mind, we need to test the functionality of the methods. Is it a <code>AssertEqual()</code>,<code>AssertTrue()</code>,<code>Expected Exception</code>? How could we guarantee the coverage?
 3. How to mock the external dependency object. This is definitely a long story. Simplify by three steps, expect what the behavior and result, replay the workflow, verify the result.</p>

<p><strong>Reference</strong>
1. <a href="http://jmock.org" title="JMock Official">JMock Website</a>
2. <a href="http://easymock.org" title="EasyMock official">EasyMock Official</a>
3. <a href="http://michaelminella.com/testing/mock-controls-with-easymock.html" title="EasyMock Control Tutorial">EasyMock Control Tutorial</a>
4. <a href="http://tamasgyorfi.wordpress.com/2011/04/21/mocking-tutorial-part-1-jmock" title="JMock Tutorial">JMock Tutorial</a></p>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>07 Jun 2015</span> &raquo; <a href="/post/gitignore%E6%96%87%E4%BB%B6%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8">.gitignore文件不起作用</a></li>
    
      <li><span>07 Jun 2015</span> &raquo; <a href="/post/css%E5%B8%B8%E7%94%A8tips%E6%B1%87%E6%80%BB">css常用tips汇总</a></li>
    
      <li><span>30 May 2015</span> &raquo; <a href="/post/singleton-design-pattern">Singleton Design Pattern</a></li>
    
  </ul>
</div>



        <div class="footer">
            <div class="copyright">
                Personal technical blog for software development practices, reading notes on ML, NLP.
                <br/> &copy; 2013&mdash;2015 by HengWei. All Rights Reserved.
            </div>
        </div>
    </div>
    <div class="main-right">
        <ul id="results-container"></ul>
    </div>
    <!-- Script pointing to jekyll-search.js -->
    <script src="/dest/jekyll-search.js" type="text/javascript"></script>
    <script type="text/javascript">
      SimpleJekyllSearch({
        searchInput: document.getElementById('search'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json',
        searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
        noResultsText: 'No results found',
        limit: 10,
        fuzzy: false,
      })
    </script>
</body>

</html>
